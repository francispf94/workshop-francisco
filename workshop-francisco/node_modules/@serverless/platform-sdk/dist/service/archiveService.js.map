{"version":3,"sources":["../../src/service/archiveService.js"],"names":["fetch","require","platformConfig","archiveService","data","backendUrl","tenant","app","name","method","headers","Authorization","accessKey","response","ok","text","Error","serviceUrl","frontendUrl"],"mappings":";;;;;;;;AAAA,IAAMA,QAAQC,QAAQ,kBAAR,CAAd;AACA,IAAMC,iBAAiBD,QAAQ,WAAR,CAAvB;;AAEA,IAAME;AAAA,qEAAiB,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACEJ,MAAO,GAAEE,eAAeG,UAAW,WAAUD,KAAKE,MAAO,iBAAgBF,KAAKG,GAAI,aAAYH,KAAKI,IAAK,EAAxG,EAA2G;AAChIC,sBAAQ,QADwH;AAEhIC,uBAAS;AACP,gCAAgB,kBADT;AAEPC,+BAAgB,UAASP,KAAKQ,SAAU;AAFjC;AAFuH,aAA3G,CADF;;AAAA;AACfC,oBADe;;AAAA,gBAShBA,SAASC,EATO;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAUAD,SAASE,IAAT,EAVA;;AAAA;AAUbA,gBAVa;AAAA,kBAWb,IAAIC,KAAJ,CAAUD,IAAV,CAXa;;AAAA;AAafE,sBAbe,GAaD,GAAEf,eAAegB,WAAY,WAAUd,KAAKE,MAAO,iBAAgBF,KAAKG,GAAI,aAAYH,KAAKI,IAAK,EAbjG;AAAA,6CAcdS,UAdc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAiBed,c","file":"archiveService.js","sourcesContent":["const fetch = require('isomorphic-fetch')\nconst platformConfig = require('../config')\n\nconst archiveService = async (data) => {\n  const response = await fetch(`${platformConfig.backendUrl}tenants/${data.tenant}/applications/${data.app}/services/${data.name}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `bearer ${data.accessKey}`\n    }\n  })\n\n  if (!response.ok) {\n    const text = await response.text()\n    throw new Error(text)\n  }\n  const serviceUrl = `${platformConfig.frontendUrl}tenants/${data.tenant}/applications/${data.app}/services/${data.name}`\n  return serviceUrl\n}\n\nexport default archiveService\n"]}